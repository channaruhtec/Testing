<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inventory | Gem Cabinet</title>
    <meta name="description"
        content="Browse our exclusive collection of rough sapphires, spinels, and garnets from Sri Lanka.">
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Inter:wght@300;400;500;600&display=swap"
        rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        gem: {
                            dark: '#0f172a', // Slate 900
                            darker: '#020617', // Slate 950
                            gold: '#d4af37', // Metallic Gold
                            goldHover: '#b8962e',
                            accent: '#1e293b', // Slate 800
                        },
                        fontFamily: {
                            serif: ['"Playfair Display"', 'serif'],
                            sans: ['Inter', 'sans-serif'],
                        }
                    }
                }
            }
        }
    </script>

    <style>
        /* Custom Scrollbar for dark theme */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #0f172a;
        }

        ::-webkit-scrollbar-thumb {
            background: #334155;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #475569;
        }

        /* Gold text gradient effect for some headlines */
        .text-gradient-gold {
            background: linear-gradient(to right, #fcd34d, #d4af37, #f59e0b);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
    </style>
</head>

<body class="bg-gem-darker text-gray-200 font-sans antialiased selection:bg-gem-gold selection:text-gem-darker">

    <!-- Navbar -->
    <nav class="fixed w-full z-50 top-0 left-0 bg-gem-dark/95 backdrop-blur-md border-b border-gem-accent transition-all duration-300"
        id="navbar">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-20 lg:h-24">
                <!-- Logo -->
                <div class="flex-shrink-0 flex items-center">
                    <a href="index.html" class="flex flex-col items-start group">
                        <span
                            class="font-serif text-2xl lg:text-3xl font-bold tracking-widest text-transparent bg-clip-text bg-gradient-to-r from-gem-gold via-yellow-200 to-gem-gold filter drop-shadow-sm">
                            GEM CABINET
                        </span>
                        <span
                            class="text-[0.6rem] text-gray-400 uppercase tracking-[0.3em] font-sans group-hover:text-white transition-colors">
                            from the mines of gemcity
                        </span>
                    </a>
                </div>

                <!-- Desktop Menu -->
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-8">
                        <a href="index.html"
                            class="text-gray-300 hover:text-gem-gold px-3 py-2 rounded-md text-sm font-medium transition-colors">Home</a>
                        <a href="inventory.html"
                            class="text-white border-b-2 border-gem-gold px-3 py-2 rounded-md text-sm font-medium transition-colors">Inventory</a>
                        <a href="about.html"
                            class="text-gray-300 hover:text-gem-gold px-3 py-2 rounded-md text-sm font-medium transition-colors">About
                            Ceylon</a>
                        <a href="contact.html"
                            class="bg-gem-gold text-gem-darker hover:bg-white hover:text-gem-darker px-5 py-2 rounded-full text-sm font-bold transition-all transform hover:scale-105 shadow-lg shadow-gem-gold/20">Contact</a>
                    </div>
                </div>

                <!-- Mobile Menu Button -->
                <div class="-mr-2 flex md:hidden">
                    <button type="button"
                        class="inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gem-accent focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white"
                        aria-controls="mobile-menu" aria-expanded="false"
                        onclick="document.getElementById('mobile-menu').classList.toggle('hidden')">
                        <span class="sr-only">Open main menu</span>
                        <svg class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M4 6h16M4 12h16M4 18h16" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile Menu -->
        <div class="hidden md:hidden bg-gem-dark border-t border-gem-accent" id="mobile-menu">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <a href="index.html"
                    class="text-gray-300 hover:text-white block px-3 py-2 rounded-md text-base font-medium">Home</a>
                <a href="inventory.html"
                    class="text-white font-bold block px-3 py-2 rounded-md text-base font-medium">Inventory</a>
                <a href="about.html"
                    class="text-gray-300 hover:text-white block px-3 py-2 rounded-md text-base font-medium">About
                    Ceylon</a>
                <a href="contact.html"
                    class="text-gray-300 hover:text-white block px-3 py-2 rounded-md text-base font-medium">Contact</a>
            </div>
        </div>
    </nav>

    <!-- Inventory Section -->
    <!-- Added pt-32 (padding-top: 8rem = 128px) to account for fixed navbar on desktop -->
    <section id="inventory" class="pt-32 pb-20 bg-gem-darker relative min-h-screen">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16 mt-8">
                <h2 class="text-4xl font-serif font-bold text-white mb-4">Current Inventory</h2>
                <div class="w-24 h-1 bg-gem-gold mx-auto mb-6"></div>
                <p class="text-gray-400 max-w-2xl mx-auto">Explore our exclusive selection of untreated, natural rough
                    stones.</p>
            </div>

            <!-- Filters -->
            <div class="sticky top-20 lg:top-32 z-30 bg-gem-darker/95 backdrop-blur-sm py-4 mb-10 border-b border-gem-accent/50"
                id="filter-bar">
                <div class="flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0">

                    <!-- Search/Count -->
                    <div class="text-gray-400 text-sm font-medium">
                        Showing <span id="gem-count" class="text-white">0</span> stones
                    </div>

                    <!-- Filter Controls -->
                    <div class="flex flex-wrap justify-center gap-4">
                        <!-- Type Filter -->
                        <div class="relative group">
                            <select id="filter-type"
                                class="appearance-none bg-gem-accent text-white py-2 px-4 pr-8 rounded border border-gray-700 focus:outline-none focus:border-gem-gold cursor-pointer hover:bg-gray-800 transition-colors">
                                <option value="all">All Types</option>
                                <option value="Sapphire">Sapphire</option>
                                <option value="Spinel">Spinel</option>
                                <option value="Garnet">Garnet</option>
                                <option value="Tourmaline">Tourmaline</option>
                            </select>
                            <div
                                class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gem-gold">
                                <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </div>
                        </div>

                        <!-- Color Filter -->
                        <div class="relative group">
                            <select id="filter-color"
                                class="appearance-none bg-gem-accent text-white py-2 px-4 pr-8 rounded border border-gray-700 focus:outline-none focus:border-gem-gold cursor-pointer hover:bg-gray-800 transition-colors">
                                <option value="all">All Colors</option>
                                <option value="Blue">Blue</option>
                                <option value="Pink">Pink</option>
                                <option value="Yellow">Yellow</option>
                                <option value="Red">Red</option>
                                <option value="Green">Green</option>
                                <option value="Purple">Purple</option>
                            </select>
                            <div
                                class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gem-gold">
                                <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </div>
                        </div>

                        <!-- Price Sort (Optional but nice) -->
                        <div class="relative group">
                            <select id="sort-price"
                                class="appearance-none bg-gem-accent text-white py-2 px-4 pr-8 rounded border border-gray-700 focus:outline-none focus:border-gem-gold cursor-pointer hover:bg-gray-800 transition-colors">
                                <option value="default">Sort by</option>
                                <option value="low-high">Price: Low to High</option>
                                <option value="high-low">Price: High to Low</option>
                            </select>
                            <div
                                class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gem-gold">
                                <svg class="h-4 w-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M19 9l-7 7-7-7"></path>
                                </svg>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Product Grid -->
            <div id="gem-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
                <!-- Cards will be injected here by JS -->
            </div>

            <!-- No Results Message -->
            <div id="no-results" class="hidden text-center py-20">
                <p class="text-gray-400 text-lg">No gems found matching your criteria.</p>
                <button onclick="resetFilters()" class="mt-4 text-gem-gold hover:underline">Clear Filters</button>
            </div>

        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-black py-8 border-t border-gem-accent">
        <div class="max-w-7xl mx-auto px-4 text-center text-gray-600 text-sm">
            <p>&copy; 2024 Gem Cabinet. Sri Lanka. All Rights Reserved.</p>
        </div>
    </footer>

    <!-- Load Gem Data -->
    <script src="js/gems.js"></script>

    <!-- JavaScript Logic -->
    <script>
        // Use the centralized 'gems' array from js/gems.js

        // State
        let currentType = 'all';
        let currentColor = 'all';
        let sortMode = 'default';

        // Elements
        const grid = document.getElementById('gem-grid');
        const countSpan = document.getElementById('gem-count');
        const noResults = document.getElementById('no-results');
        const filterType = document.getElementById('filter-type');
        const filterColor = document.getElementById('filter-color');
        const sortPrice = document.getElementById('sort-price');

        // Functions
        function renderGems(data) {
            grid.innerHTML = '';
            countSpan.textContent = data.length;

            if (data.length === 0) {
                noResults.classList.remove('hidden');
                return;
            } else {
                noResults.classList.add('hidden');
            }

            data.forEach(gem => {
                const card = document.createElement('div');
                card.className = 'group bg-gem-accent rounded-sm shadow-xl overflow-hidden hover:shadow-2xl hover:shadow-gem-gold/10 transition-all duration-300 border border-gray-800 hover:border-gem-gold/50';

                card.innerHTML = `
                    <div class="relative h-64 overflow-hidden">
                        <img src="${gem.image}" alt="${gem.name}" class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700">
                        <div class="absolute top-0 right-0 bg-gem-gold text-gem-darker text-xs font-bold px-3 py-1 m-2 uppercase tracking-wide">
                            ${gem.type}
                        </div>
                    </div>
                    <div class="p-6">
                        <div class="flex justify-between items-start mb-2">
                            <h3 class="text-white font-serif text-lg font-bold group-hover:text-gem-gold transition-colors line-clamp-1">${gem.name}</h3>
                        </div>
                        <div class="space-y-2 text-sm text-gray-400 mb-4">
                            <div class="flex justify-between border-b border-gray-700 pb-1">
                                <span>Weight:</span>
                                <span class="text-gray-200">${gem.weight} ct</span>
                            </div>
                            <div class="flex justify-between border-b border-gray-700 pb-1">
                                <span>Origin:</span>
                                <span class="text-gray-200">${gem.origin}</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Color:</span>
                                <span class="text-gray-200">${gem.color}</span>
                            </div>
                        </div>
                        <div class="flex justify-between items-center mt-4 pt-4 border-t border-gray-700">
                            <span class="text-2xl font-serif text-gem-gold font-bold">$${gem.price.toLocaleString()}</span>
                            <button class="text-gray-400 hover:text-white text-sm font-medium transition-colors uppercase tracking-wider flex items-center">
                                Details <span class="ml-1 text-gem-gold">&rarr;</span>
                            </button>
                        </div>
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        function filterAndSortGems() {
            let filtered = gems.filter(gem => {
                const matchType = currentType === 'all' || gem.type === currentType;
                const matchColor = currentColor === 'all' || gem.color === currentColor;
                return matchType && matchColor;
            });

            if (sortMode === 'low-high') {
                filtered.sort((a, b) => a.price - b.price);
            } else if (sortMode === 'high-low') {
                filtered.sort((a, b) => b.price - a.price);
            }

            renderGems(filtered);
        }

        function resetFilters() {
            currentType = 'all';
            currentColor = 'all';
            sortMode = 'default';
            filterType.value = 'all';
            filterColor.value = 'all';
            sortPrice.value = 'default';
            filterAndSortGems();
        }

        // Event Listeners
        filterType.addEventListener('change', (e) => {
            currentType = e.target.value;
            filterAndSortGems();
        });

        filterColor.addEventListener('change', (e) => {
            currentColor = e.target.value;
            filterAndSortGems();
        });

        sortPrice.addEventListener('change', (e) => {
            sortMode = e.target.value;
            filterAndSortGems();
        });

        // Initial Render
        document.addEventListener('DOMContentLoaded', () => {
            console.log("Gem Cabinet Initialized");
            renderGems(gems);
        });

    </script>
</body>

</html>